<div class="mdl-grid">
    <div class="mdl-card mdl-shadow--16dp util-center util-spacing-h--40px">
        <div class="mdl-card__title mdl-color--red-500">
            <h2 class="mdl-card__title-text mdl-color-text--white">Crea una cuenta nueva</h2>
        </div>
        <div class="mdl-card__supporting-text mdl-grid">
            <form #signUpForm="ngForm" (ngSubmit)="onSubmit()" method="POST" action="">
                <input type="hidden" name="action" value="register" />

                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col form-group">
                    <label class="mdl-textfield__label mdl-color-text--grey" for="textfield_new_username">Nombre de usuario</label>
                    <input class="mdl-textfield__input" type="text" id="textfield_new_username" name="username" maxlength="45"
                    [(ngModel)]="user.username" required (keyup)="usernameChange()">
                    <span class="mdl-textfield__error">Campo obligatorio. Longitud máxima: 45 caracteres.</span>
                    <span *ngIf="username_already" class="error_validity">Este nombre de usuario ya está en uso.</span>
                </div>

                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col form-group">
                    <label class="mdl-textfield__label mdl-color-text--grey" for="textfield_new_email">Correo Electrónico</label>
                    <input class="mdl-textfield__input" type="email" id="textfield_new_email" name="email" maxlength="255"
                    [(ngModel)]="user.email" required (keyup)="emailChange()" pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
                    <span class="mdl-textfield__error">Campo obligatorio. Debe ser un correo electrónico y no superar los 255 caracteres.</span>
                    <span *ngIf="email_already" class="error_validity">Este correo electrónico ya está en uso.</span>
                </div>

                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--6-col form-group">
                    <label class="mdl-textfield__label mdl-color-text--grey" for="textfield_new_name">Nombre</label>
                    <input class="mdl-textfield__input" type="text" id="textfield_new_name" name="name" maxlength="100"
                    [(ngModel)]="user.name" required>
                    <span class="mdl-textfield__error">Campo obligatorio. Longitud máxima: 100 caracteres.</span>
                </div>

                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--6-col form-group">
                    <label class="mdl-textfield__label mdl-color-text--grey" for="textfield_new_surname">Apellidos</label>
                    <input class="mdl-textfield__input" type="text" id="textfield_new_surname" name="surname" maxlength="255"
                    [(ngModel)]="user.surname" required>
                    <span class="mdl-textfield__error">Campo obligatorio. Longitud máxima: 255 caracteres.</span>
                </div>

                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--6-col form-group">
                    <label class="mdl-textfield__label mdl-color-text--grey" for="textfield_new_password">Contraseña</label>
                    <input class="mdl-textfield__input" type="password" id="textfield_new_password" name="password" minlength="6"
                    [(ngModel)]="user.password" required>
                    <span class="mdl-textfield__error">
                        Campo obligatorio. Longitud mínima: 6 caracteres.
                    </span>
                </div>

                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--6-col form-group">
                    <label class="mdl-textfield__label mdl-color-text--grey" for="textfield_password_confirm">Confirmar contraseña</label>
                    <input class="mdl-textfield__input" type="password" id="textfield_password_confirm" name="password_confirm"
                    [(ngModel)]="password_confirm" required minlength="6">
                    <span *ngIf="!passwordRepeat()" class="error_validity">Las contraseñas no coinciden</span>
                </div>
                <div class="mdl-cell mdl-cell--12-col send-button" align="center">
                    <button type="submit" class="mdl-button mdl-js-ripple-effect mdl-js-button mdl-button--raised mdl-button--colored" id="login"
                    [disabled]="!signUpForm.valid || !passwordRepeat() || email_already || username_already">
                        Registrarse
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>