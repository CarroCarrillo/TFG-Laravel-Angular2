<div class="header_search">
    <h3>Filtros</h3>
    <h2>Búsqueda: {{ _query }}</h2>
</div>
<div class="mdl-grid">
    <div class="col-md-2 panel-left">
        <div class="filter_group">
            <mdl-switch mdl-ripple (click)="toggleImages()" [(ngModel)]="_boolFields[0]">Imágenes</mdl-switch>
            <div class="close" [@openPanel]="_imagesState">
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'title')" [(ngModel)]="_boolFields[1]">
                    Título
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'subject')" [(ngModel)]="_boolFields[2]">
                    Temas
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'description')" [(ngModel)]="_boolFields[3]">
                    Descripción
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'source')" [(ngModel)]="_boolFields[4]">
                    Fuente
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'language')" [(ngModel)]="_boolFields[5]">
                    Idioma
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'relation')" [(ngModel)]="_boolFields[6]">
                    Relación
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'coverage')" [(ngModel)]="_boolFields[7]">
                    Cobertura
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'creator')" [(ngModel)]="_boolFields[8]">
                    Creador
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'contributor')" [(ngModel)]="_boolFields[9]">
                    Contribuidor
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'publisher')" [(ngModel)]="_boolFields[10]">
                    Publicador
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'rights')" [(ngModel)]="_boolFields[11]">
                    Derechos
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'type')" [(ngModel)]="_boolFields[13]">
                    Tipo
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'format')" [(ngModel)]="_boolFields[14]">
                    Formato
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'identifier')" [(ngModel)]="_boolFields[15]">
                    Identificador
                </mdl-checkbox>
            </div>
        </div>
        <div class="filter_group">
            <mdl-switch mdl-ripple (click)="toggleUsers()" [(ngModel)]="_boolFields[16]">Usuarios</mdl-switch>
            <div class="close" [@openPanelSmall]="_usersState">
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'name')" [(ngModel)]="_boolFields[17]">
                    Nombre
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'surname')" [(ngModel)]="_boolFields[18]">
                    Apellidos
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'username')" [(ngModel)]="_boolFields[19]">
                    Nombre de usuario
                </mdl-checkbox>
                <mdl-checkbox [mdl-ripple]="true" (change)="toggle(_fields, 'email')" [(ngModel)]="_boolFields[20]">
                    Correo electrónico
                </mdl-checkbox>
            </div>
        </div>
    </div>
    <div class="col-lg-10 content-right" (scroll)="onScroll($event)">
        <div *ngFor="let hit of _hits">
            <div class="col-md-4" *ngIf="hit._type == 'image'">
                <a routerLink="/imagen/{{hit._source.id}}" class="no-underline">
                    <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                        <div class="mdl-card__title" [ngStyle]="{'background-image': 'url(../../assets/data/' + hit._source.hashedName + ')'}">
                            <h2 class="mdl-card__title-text">{{ hit._source.title }}</h2>
                        </div>
                        <div class="mdl-card__supporting-text">
                            {{hit._source.description }}
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-md-4" *ngIf="hit._type == 'user'">
                <a routerLink="/perfil/{{hit._source.id}}" class="no-underline">
                    <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                        <div class="mdl-card__title" [ngStyle]="{'background-image': 'url(' + hit._source.profile_image + ')'}">
                            <h2 class="mdl-card__title-text">{{ hit._source.username }}</h2>
                        </div>
                        <div class="mdl-card__supporting-text">
                            {{ hit._source.name }} {{ hit._source.surname }}
                        </div>
                    </div>
                </a>
            </div>
        </div>
        <div id="end" *ngIf="_end">
            No hay más resultados
        </div>
        <div *ngIf="_loading" class="mdl-spinner mdl-js-spinner is-active"></div>
    </div>
</div>